import { __spread, __extends } from 'tslib';
import { Injectable, Component, EventEmitter, Input, Output, ChangeDetectionStrategy, ElementRef, Renderer2, ViewEncapsulation, ViewChild, NgModule } from '@angular/core';
import { Subject } from 'rxjs/internal/Subject';
import { CommonModule } from '@angular/common';

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** @enum {number} */
var PieceRotation = {
    DEG_0: 0,
    DEG_90: 1,
    DEG_180: 2,
    DEG_270: 3,
};
PieceRotation[PieceRotation.DEG_0] = 'DEG_0';
PieceRotation[PieceRotation.DEG_90] = 'DEG_90';
PieceRotation[PieceRotation.DEG_180] = 'DEG_180';
PieceRotation[PieceRotation.DEG_270] = 'DEG_270';
/** @enum {number} */
var PieceTypes = {
    Dot: 1,
    Box: 2,
    Line: 3,
    T: 4,
    L: 5,
    Lr: 6,
    Z: 7,
    S: 8,
};
PieceTypes[PieceTypes.Dot] = 'Dot';
PieceTypes[PieceTypes.Box] = 'Box';
PieceTypes[PieceTypes.Line] = 'Line';
PieceTypes[PieceTypes.T] = 'T';
PieceTypes[PieceTypes.L] = 'L';
PieceTypes[PieceTypes.Lr] = 'Lr';
PieceTypes[PieceTypes.Z] = 'Z';
PieceTypes[PieceTypes.S] = 'S';
/** @enum {string} */
var PieceColors = {
    Box: 'color-box',
    Dot: 'color-dot',
    Line: 'color-line',
    T: 'color-t',
    L: 'color-l',
    Lr: 'color-lr',
    Z: 'color-z',
    S: 'color-s',
};
var Piece = /** @class */ (function () {
    function Piece(x, y, gridSize, maps) {
        this.color = 'red';
        this.rotation = PieceRotation.DEG_0;
        this.map = [
            [], []
        ];
        this._lastConfig = null;
        this._gridSize = gridSize;
        this.x = x;
        this.y = y;
        this._maps = maps;
        this.map = this._maps[this.rotation];
    }
    Object.defineProperty(Piece.prototype, "positionsOnGrid", {
        get: /**
         * @return {?}
         */
        function () {
            /** @type {?} */
            var acc = [];
            for (var row = 0; row < 4; row++) {
                for (var col = 0; col < 4; col++) {
                    if (this.map[row][col]) {
                        /** @type {?} */
                        var pos = (this.y + row) * this._gridSize.width + this.x + col;
                        if (pos > 0) {
                            acc.push(pos);
                        }
                    }
                }
            }
            return acc;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    Piece.prototype.store = /**
     * @return {?}
     */
    function () {
        this._lastConfig = {
            x: this.x,
            y: this.y,
            rotation: this.rotation,
            map: this.map
        };
    };
    /**
     * @return {?}
     */
    Piece.prototype.clearStore = /**
     * @return {?}
     */
    function () {
        this._lastConfig = null;
    };
    /**
     * @return {?}
     */
    Piece.prototype.revert = /**
     * @return {?}
     */
    function () {
        if (this._lastConfig) {
            for (var x in this._lastConfig) {
                if (this._lastConfig.hasOwnProperty(x)) {
                    this[x] = this._lastConfig[x];
                }
            }
            this._lastConfig = null;
        }
    };
    /**
     * @return {?}
     */
    Piece.prototype.rotate = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var keys = Object.keys(this._maps);
        /** @type {?} */
        var idx = keys.indexOf(this.rotation.toString());
        if (idx >= keys.length - 1) {
            this.rotation = /** @type {?} */ (keys[0]);
        }
        else {
            this.rotation = /** @type {?} */ (keys[++idx]);
        }
        this.map = this._maps[this.rotation];
    };
    /**
     * @return {?}
     */
    Piece.prototype.moveDown = /**
     * @return {?}
     */
    function () {
        this.y++;
    };
    /**
     * @return {?}
     */
    Piece.prototype.moveRight = /**
     * @return {?}
     */
    function () {
        this.x++;
    };
    /**
     * @return {?}
     */
    Piece.prototype.moveLeft = /**
     * @return {?}
     */
    function () {
        this.x--;
    };
    Object.defineProperty(Piece.prototype, "bottomRow", {
        get: /**
         * @return {?}
         */
        function () {
            return this.y + 3;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Piece.prototype, "rightCol", {
        get: /**
         * @return {?}
         */
        function () {
            /** @type {?} */
            var col = 3;
            while (col >= 0) {
                for (var row = 0; row <= 3; row++) {
                    if (this.map[row][col]) {
                        return this.x + col;
                    }
                }
                col--;
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Piece.prototype, "leftCol", {
        get: /**
         * @return {?}
         */
        function () {
            return this.x;
        },
        enumerable: true,
        configurable: true
    });
    return Piece;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** @type {?} */
var MAPS = [];
MAPS[PieceRotation.DEG_0] = [
    [undefined, undefined, undefined, undefined],
    [undefined, undefined, undefined, undefined],
    [undefined, undefined, undefined, undefined],
    [PieceTypes.Box, undefined, undefined, undefined],
];
var Dot = /** @class */ (function (_super) {
    __extends(Dot, _super);
    function Dot(x, y, gridSize) {
        var _this = _super.call(this, x, y, gridSize, MAPS) || this;
        _this.color = PieceColors['Dot'];
        return _this;
    }
    return Dot;
}(Piece));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** @type {?} */
var MAPS$1 = [];
MAPS$1[PieceRotation.DEG_0] = [
    [undefined, undefined, undefined, undefined],
    [undefined, undefined, undefined, undefined],
    [PieceTypes.Box, PieceTypes.Box, undefined, undefined],
    [PieceTypes.Box, PieceTypes.Box, undefined, undefined],
];
var Box = /** @class */ (function (_super) {
    __extends(Box, _super);
    function Box(x, y, gridSize) {
        var _this = _super.call(this, x, y, gridSize, MAPS$1) || this;
        _this.color = PieceColors['Box'];
        return _this;
    }
    return Box;
}(Piece));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** @type {?} */
var MAPS$2 = [];
MAPS$2[PieceRotation.DEG_0] = [
    [undefined, undefined, undefined, undefined],
    [undefined, undefined, undefined, undefined],
    [undefined, undefined, undefined, undefined],
    [PieceTypes.Line, PieceTypes.Line, PieceTypes.Line, PieceTypes.Line],
];
MAPS$2[PieceRotation.DEG_90] = [
    [PieceTypes.Line, undefined, undefined, undefined],
    [PieceTypes.Line, undefined, undefined, undefined],
    [PieceTypes.Line, undefined, undefined, undefined],
    [PieceTypes.Line, undefined, undefined, undefined],
];
var Line = /** @class */ (function (_super) {
    __extends(Line, _super);
    function Line(x, y, gridSize) {
        var _this = _super.call(this, x, y, gridSize, MAPS$2) || this;
        _this.color = PieceColors['Line'];
        return _this;
    }
    return Line;
}(Piece));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** @type {?} */
var MAPS$3 = {};
MAPS$3[PieceRotation.DEG_0] = [
    [undefined, undefined, undefined, undefined],
    [undefined, undefined, undefined, undefined],
    [undefined, PieceTypes.T, undefined, undefined],
    [PieceTypes.T, PieceTypes.T, PieceTypes.T, undefined],
];
MAPS$3[PieceRotation.DEG_90] = [
    [undefined, undefined, undefined, undefined],
    [PieceTypes.T, undefined, undefined, undefined],
    [PieceTypes.T, PieceTypes.T, undefined, undefined],
    [PieceTypes.T, undefined, undefined, undefined],
];
MAPS$3[PieceRotation.DEG_180] = [
    [undefined, undefined, undefined, undefined],
    [undefined, undefined, undefined, undefined],
    [PieceTypes.T, PieceTypes.T, PieceTypes.T, undefined],
    [undefined, PieceTypes.T, undefined, undefined],
];
MAPS$3[PieceRotation.DEG_270] = [
    [undefined, undefined, undefined, undefined],
    [undefined, PieceTypes.T, undefined, undefined],
    [PieceTypes.T, PieceTypes.T, undefined, undefined],
    [undefined, PieceTypes.T, undefined, undefined],
];
var T = /** @class */ (function (_super) {
    __extends(T, _super);
    function T(x, y, gridSize) {
        var _this = _super.call(this, x, y, gridSize, MAPS$3) || this;
        _this.color = PieceColors['T'];
        return _this;
    }
    return T;
}(Piece));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** @type {?} */
var MAPS$4 = {};
MAPS$4[PieceRotation.DEG_0] = [
    [undefined, undefined, undefined, undefined],
    [undefined, PieceTypes.Z, undefined, undefined],
    [PieceTypes.Z, PieceTypes.Z, undefined, undefined],
    [PieceTypes.Z, undefined, undefined, undefined],
];
MAPS$4[PieceRotation.DEG_90] = [
    [undefined, undefined, undefined, undefined],
    [undefined, undefined, undefined, undefined],
    [PieceTypes.Z, PieceTypes.Z, undefined, undefined],
    [undefined, PieceTypes.Z, PieceTypes.Z, undefined],
];
var Z = /** @class */ (function (_super) {
    __extends(Z, _super);
    function Z(x, y, gridSize) {
        var _this = _super.call(this, x, y, gridSize, MAPS$4) || this;
        _this.color = PieceColors['Z'];
        return _this;
    }
    return Z;
}(Piece));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** @type {?} */
var MAPS$5 = {};
MAPS$5[PieceRotation.DEG_0] = [
    [undefined, undefined, undefined, undefined],
    [PieceTypes.S, undefined, undefined, undefined],
    [PieceTypes.S, PieceTypes.S, undefined, undefined],
    [undefined, PieceTypes.S, undefined, undefined],
];
MAPS$5[PieceRotation.DEG_90] = [
    [undefined, undefined, undefined, undefined],
    [undefined, undefined, undefined, undefined],
    [undefined, PieceTypes.S, PieceTypes.S, undefined],
    [PieceTypes.S, PieceTypes.S, undefined, undefined],
];
var S = /** @class */ (function (_super) {
    __extends(S, _super);
    function S(x, y, gridSize) {
        var _this = _super.call(this, x, y, gridSize, MAPS$5) || this;
        _this.color = PieceColors['S'];
        return _this;
    }
    return S;
}(Piece));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** @type {?} */
var MAPS$6 = {};
MAPS$6[PieceRotation.DEG_0] = [
    [undefined, undefined, undefined, undefined],
    [PieceTypes.L, undefined, undefined, undefined],
    [PieceTypes.L, undefined, undefined, undefined],
    [PieceTypes.L, PieceTypes.L, undefined, undefined],
];
MAPS$6[PieceRotation.DEG_90] = [
    [undefined, undefined, undefined, undefined],
    [undefined, undefined, undefined, undefined],
    [PieceTypes.L, PieceTypes.L, PieceTypes.L, undefined],
    [PieceTypes.L, undefined, undefined, undefined],
];
MAPS$6[PieceRotation.DEG_180] = [
    [undefined, undefined, undefined, undefined],
    [PieceTypes.L, PieceTypes.L, undefined, undefined],
    [undefined, PieceTypes.L, undefined, undefined],
    [undefined, PieceTypes.L, undefined, undefined],
];
MAPS$6[PieceRotation.DEG_270] = [
    [undefined, undefined, undefined, undefined],
    [undefined, undefined, undefined, undefined],
    [undefined, undefined, PieceTypes.L, undefined],
    [PieceTypes.L, PieceTypes.L, PieceTypes.L, undefined],
];
var L = /** @class */ (function (_super) {
    __extends(L, _super);
    function L(x, y, gridSize) {
        var _this = _super.call(this, x, y, gridSize, MAPS$6) || this;
        _this.color = PieceColors['L'];
        return _this;
    }
    return L;
}(Piece));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** @type {?} */
var MAPS$7 = {};
MAPS$7[PieceRotation.DEG_0] = [
    [undefined, undefined, undefined, undefined],
    [PieceTypes.Lr, PieceTypes.Lr, undefined, undefined],
    [undefined, PieceTypes.Lr, undefined, undefined],
    [undefined, PieceTypes.Lr, undefined, undefined],
];
MAPS$7[PieceRotation.DEG_90] = [
    [undefined, undefined, undefined, undefined],
    [undefined, undefined, undefined, undefined],
    [undefined, undefined, PieceTypes.Lr, undefined],
    [PieceTypes.Lr, PieceTypes.Lr, PieceTypes.Lr, undefined],
];
MAPS$7[PieceRotation.DEG_180] = [
    [undefined, undefined, undefined, undefined],
    [PieceTypes.Lr, undefined, undefined, undefined],
    [PieceTypes.Lr, undefined, undefined, undefined],
    [PieceTypes.Lr, PieceTypes.Lr, undefined, undefined],
];
MAPS$7[PieceRotation.DEG_270] = [
    [undefined, undefined, undefined, undefined],
    [undefined, undefined, undefined, undefined],
    [PieceTypes.Lr, PieceTypes.Lr, PieceTypes.Lr, undefined],
    [PieceTypes.Lr, undefined, undefined, undefined],
];
var Lr = /** @class */ (function (_super) {
    __extends(Lr, _super);
    function Lr(x, y, gridSize) {
        var _this = _super.call(this, x, y, gridSize, MAPS$7) || this;
        _this.color = PieceColors['Lr'];
        return _this;
    }
    return Lr;
}(Piece));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var PiecesFactory = /** @class */ (function () {
    function PiecesFactory(gridSize) {
        this._available = [];
        this._gridSize = gridSize;
        this._available.push(Dot);
        this._available.push(Box);
        this._available.push(Line);
        this._available.push(T);
        this._available.push(Z);
        this._available.push(S);
        this._available.push(L);
        this._available.push(Lr);
    }
    /**
     * @param {?} x
     * @param {?} y
     * @return {?}
     */
    PiecesFactory.prototype.getRandomPiecePiece = /**
     * @param {?} x
     * @param {?} y
     * @return {?}
     */
    function (x, y) {
        /** @type {?} */
        var idx = Math.floor(Math.random() * (this._available.length));
        return new this._available[idx](x, y, this._gridSize);
        // return new this._available[2](x, y, this._gridSize);
    };
    return PiecesFactory;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** @type {?} */
var SPAWN_POSITION_X = 4;
/** @type {?} */
var SPAWN_POSITION_Y = -4;
var Tile = /** @class */ (function () {
    function Tile() {
        this.solid = false;
        this.color = null;
    }
    return Tile;
}());
var GameManagerService = /** @class */ (function () {
    function GameManagerService() {
        this.settings = {
            tileSize: null
        };
        this._gridSize = { width: 0, height: 0 };
        this._locked = true;
        this._lineCleared = new Subject();
        this._gameOver = new Subject();
        this.lineCleared$ = this._lineCleared.asObservable();
        this.gameOver$ = this._gameOver.asObservable();
    }
    Object.defineProperty(GameManagerService.prototype, "elementsInRow", {
        get: /**
         * @return {?}
         */
        function () {
            return this._gridSize.width;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} width
     * @param {?} height
     * @param {?} gameSpeed
     * @param {?=} tileSize
     * @return {?}
     */
    GameManagerService.prototype.initialize = /**
     * @param {?} width
     * @param {?} height
     * @param {?} gameSpeed
     * @param {?=} tileSize
     * @return {?}
     */
    function (width, height, gameSpeed, tileSize) {
        this._gridSize.width = width;
        this._gridSize.height = height;
        this._gameSpeed = gameSpeed;
        this._piecesFactory = new PiecesFactory(this._gridSize);
        if (tileSize) {
            this.settings.tileSize = tileSize;
        }
        this._initializeEmptyBoard();
        this._spawnNewPiece();
        this._drawPiece();
    };
    /**
     * @return {?}
     */
    GameManagerService.prototype.start = /**
     * @return {?}
     */
    function () {
        var _this = this;
        clearInterval(this._gameInterval);
        this._gameInterval = setInterval(function () {
            _this._update();
        }, this._gameSpeed);
        this._locked = false;
    };
    /**
     * @return {?}
     */
    GameManagerService.prototype.stop = /**
     * @return {?}
     */
    function () {
        this._locked = true;
        clearInterval(this._gameInterval);
    };
    /**
     * @return {?}
     */
    GameManagerService.prototype.reset = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var emptyTile = new Tile();
        for (var pos = 0; pos < this.grid.length; pos++) {
            if (this.grid[pos].color || this.grid[pos].solid) {
                this.__changeCell(pos, emptyTile);
            }
        }
        this._spawnNewPiece();
        this._drawPiece();
    };
    /**
     * @return {?}
     */
    GameManagerService.prototype.moveLeft = /**
     * @return {?}
     */
    function () {
        if (this._locked) {
            return;
        }
        this._clearPiece();
        this._piece.store();
        this._piece.moveLeft();
        if (this._collidesLeft()) {
            this._piece.revert();
        }
        this._drawPiece();
    };
    /**
     * @return {?}
     */
    GameManagerService.prototype.moveRight = /**
     * @return {?}
     */
    function () {
        if (this._locked) {
            return;
        }
        this._clearPiece();
        this._piece.store();
        this._piece.moveRight();
        if (this._collidesRight()) {
            this._piece.revert();
        }
        this._drawPiece();
    };
    /**
     * @return {?}
     */
    GameManagerService.prototype.rotate = /**
     * @return {?}
     */
    function () {
        if (this._locked) {
            return;
        }
        this._clearPiece();
        this._piece.store();
        this._piece.rotate();
        while (this._collidesRight()) {
            this._piece.moveLeft();
            if (this._collidesLeft()) {
                this._piece.revert();
                break;
            }
        }
        this._drawPiece();
    };
    /**
     * @return {?}
     */
    GameManagerService.prototype.moveDown = /**
     * @return {?}
     */
    function () {
        this._update();
    };
    /**
     * @return {?}
     */
    GameManagerService.prototype._clearFullLines = /**
     * @return {?}
     */
    function () {
        for (var row = this._gridSize.height - 1; row >= 0; row--) {
            /** @type {?} */
            var isFull = true;
            for (var col = 0; col < this._gridSize.width; col++) {
                /** @type {?} */
                var pos = row * this._gridSize.width + col;
                if (this.grid[pos].solid === false) {
                    isFull = false;
                    break;
                }
            }
            if (isFull) {
                /** @type {?} */
                var emptyRow = Array.apply(null, Array(this._gridSize.width))
                    .map(function (idx) { return new Tile(); });
                /** @type {?} */
                var topPortion = this.grid.slice(0, row * this._gridSize.width);
                (_a = this.grid).splice.apply(_a, __spread([0, ++row * this._gridSize.width], emptyRow.concat(topPortion)));
                this._lineCleared.next();
            }
        }
        var _a;
    };
    /**
     * @return {?}
     */
    GameManagerService.prototype._update = /**
     * @return {?}
     */
    function () {
        if (this._locked) {
            return;
        }
        this._locked = true;
        this._piece.revert();
        this._clearPiece();
        this._piece.store();
        this._piece.moveDown();
        if (this._collidesBottom()) {
            this._piece.revert();
            this._markSolid();
            this._drawPiece();
            this._clearFullLines();
            this._spawnNewPiece();
            if (this._isGameOver()) {
                this._onGameOver();
                return;
            }
        }
        this._drawPiece();
        this._locked = false;
    };
    /**
     * @return {?}
     */
    GameManagerService.prototype._isGameOver = /**
     * @return {?}
     */
    function () {
        this._piece.store();
        this._piece.moveDown();
        if (this._collidesBottom()) {
            return true;
        }
        this._piece.revert();
        return false;
    };
    /**
     * @return {?}
     */
    GameManagerService.prototype._onGameOver = /**
     * @return {?}
     */
    function () {
        this.stop();
        this._gameOver.next();
    };
    /**
     * @return {?}
     */
    GameManagerService.prototype._spawnNewPiece = /**
     * @return {?}
     */
    function () {
        this._piece = this._piecesFactory.getRandomPiecePiece(SPAWN_POSITION_X, SPAWN_POSITION_Y);
    };
    /**
     * @return {?}
     */
    GameManagerService.prototype._initializeEmptyBoard = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var cellsCount = this._gridSize.width * this._gridSize.height;
        this.grid = Array.apply(null, Array(cellsCount))
            .map(function (idx) { return new Tile(); });
    };
    /**
     * @return {?}
     */
    GameManagerService.prototype._clearPiece = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this._piece.positionsOnGrid
            .forEach(function (pos) {
            _this.__changeCell(pos, { color: undefined });
        });
    };
    /**
     * @return {?}
     */
    GameManagerService.prototype._drawPiece = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this._piece.clearStore();
        this._piece.positionsOnGrid
            .forEach(function (pos) {
            _this.__changeCell(pos, { color: _this._piece.color });
        });
    };
    /**
     * @return {?}
     */
    GameManagerService.prototype._markSolid = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this._piece.positionsOnGrid.forEach(function (pos) {
            _this.__changeCell(pos, { solid: true });
        });
    };
    /**
     * @param {?} pos
     * @param {?=} data
     * @return {?}
     */
    GameManagerService.prototype.__changeCell = /**
     * @param {?} pos
     * @param {?=} data
     * @return {?}
     */
    function (pos, data) {
        if (data === void 0) { data = {}; }
        this.grid[pos] = Object.assign({}, this.grid[pos], data);
    };
    /**
     * @return {?}
     */
    GameManagerService.prototype._collidesBottom = /**
     * @return {?}
     */
    function () {
        if (this._piece.bottomRow >= this._gridSize.height) {
            return true;
        }
        return this.__collides();
    };
    /**
     * @return {?}
     */
    GameManagerService.prototype._collidesLeft = /**
     * @return {?}
     */
    function () {
        if (this._piece.leftCol < 0) {
            return true;
        }
        return this.__collides();
    };
    /**
     * @return {?}
     */
    GameManagerService.prototype._collidesRight = /**
     * @return {?}
     */
    function () {
        if (this._piece.rightCol >= this._gridSize.width) {
            return true;
        }
        return this.__collides();
    };
    /**
     * @return {?}
     */
    GameManagerService.prototype.__collides = /**
     * @return {?}
     */
    function () {
        var _this = this;
        return this._piece.positionsOnGrid
            .some(function (pos) {
            if (pos > 0 && _this.grid[pos] && _this.grid[pos].solid) {
                return true;
            }
            return false;
        });
    };
    GameManagerService.decorators = [
        { type: Injectable }
    ];
    /** @nocollapse */
    GameManagerService.ctorParameters = function () { return []; };
    return GameManagerService;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** @type {?} */
var GAME_SPEED = 500;
/** @type {?} */
var MOVE_DOWN_SPEED = 0.2; // fraction of initial game speed
/** @enum {number} */
var GameState = {
    Paused: 0,
    Started: 1,
    Over: 2,
};
GameState[GameState.Paused] = 'Paused';
GameState[GameState.Started] = 'Started';
GameState[GameState.Over] = 'Over';
var TetrisCoreComponent = /** @class */ (function () {
    function TetrisCoreComponent(_manager) {
        var _this = this;
        this._manager = _manager;
        this.rotate = false;
        this.moveLeft = false;
        this.moveRight = false;
        this.moveDown = false;
        this.start = false;
        this.stop = false;
        this.reset = false;
        this.lineCleared = new EventEmitter();
        this.gameOver = new EventEmitter();
        this.state = GameState.Paused;
        this.gridWidth = 10;
        this.gridHeight = 20;
        this._manager.lineCleared$.subscribe(function (data) { return _this._onLineCleared(data); });
        this._manager.gameOver$.subscribe(function (data) { return _this._onGameOver(data); });
    }
    /**
     * @return {?}
     */
    TetrisCoreComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.initialSpeed = this.initialSpeed || GAME_SPEED;
        this._moveDownSpeed = this.initialSpeed * MOVE_DOWN_SPEED;
        this._manager.initialize(this.gridWidth, this.gridHeight, this.initialSpeed, this.tileSize);
        this.grid = this._manager.grid;
        setInterval(function () {
            if (_this.moveDown) {
                _this._manager.moveDown();
            }
        }, this._moveDownSpeed);
    };
    /**
     * @param {?} changes
     * @return {?}
     */
    TetrisCoreComponent.prototype.ngOnChanges = /**
     * @param {?} changes
     * @return {?}
     */
    function (changes) {
        if (this._keyPressed(changes.moveLeft)) {
            this._manager.moveLeft();
        }
        else if (this._keyPressed(changes.moveRight)) {
            this._manager.moveRight();
        }
        if (this._keyPressed(changes.rotate)) {
            this._manager.rotate();
        }
        if (this._keyPressed(changes.start)) {
            this._manager.start();
        }
        if (this._keyPressed(changes.stop)) {
            this._manager.stop();
        }
        if (this._keyPressed(changes.reset)) {
            this._manager.reset();
        }
    };
    /**
     * @return {?}
     */
    TetrisCoreComponent.prototype.actionLeft = /**
     * @return {?}
     */
    function () { this._manager.moveLeft(); };
    /**
     * @return {?}
     */
    TetrisCoreComponent.prototype.actionRight = /**
     * @return {?}
     */
    function () { this._manager.moveRight(); };
    /**
     * @return {?}
     */
    TetrisCoreComponent.prototype.actionRotate = /**
     * @return {?}
     */
    function () { this._manager.rotate(); };
    /**
     * @return {?}
     */
    TetrisCoreComponent.prototype.actionDown = /**
     * @return {?}
     */
    function () { this._manager.moveDown(); };
    /**
     * @return {?}
     */
    TetrisCoreComponent.prototype.actionReset = /**
     * @return {?}
     */
    function () { this._manager.reset(); };
    /**
     * @return {?}
     */
    TetrisCoreComponent.prototype.actionStart = /**
     * @return {?}
     */
    function () {
        this._manager.start();
        this.state = GameState.Started;
    };
    /**
     * @return {?}
     */
    TetrisCoreComponent.prototype.actionStop = /**
     * @return {?}
     */
    function () {
        this._manager.stop();
        this.state = GameState.Paused;
    };
    /**
     * @param {?} key
     * @return {?}
     */
    TetrisCoreComponent.prototype._keyPressed = /**
     * @param {?} key
     * @return {?}
     */
    function (key) {
        return key && key.currentValue && !key.previousValue;
    };
    /**
     * @param {?} data
     * @return {?}
     */
    TetrisCoreComponent.prototype._onLineCleared = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        this.lineCleared.emit(data);
    };
    /**
     * @param {?} data
     * @return {?}
     */
    TetrisCoreComponent.prototype._onGameOver = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        this.state = GameState.Over;
        this.gameOver.emit();
    };
    TetrisCoreComponent.decorators = [
        { type: Component, args: [{
                    selector: 'tetris-core',
                    template: "<board\n    [grid]=\"grid\"></board>\n"
                }] }
    ];
    /** @nocollapse */
    TetrisCoreComponent.ctorParameters = function () { return [
        { type: GameManagerService }
    ]; };
    TetrisCoreComponent.propDecorators = {
        tileSize: [{ type: Input }],
        initialSpeed: [{ type: Input }],
        rotate: [{ type: Input }],
        moveLeft: [{ type: Input }],
        moveRight: [{ type: Input }],
        moveDown: [{ type: Input }],
        start: [{ type: Input }],
        stop: [{ type: Input }],
        reset: [{ type: Input }],
        lineCleared: [{ type: Output }],
        gameOver: [{ type: Output }]
    };
    return TetrisCoreComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var TileComponent = /** @class */ (function () {
    function TileComponent(el, _renderer, _manager) {
        this.el = el;
        this._renderer = _renderer;
        this._manager = _manager;
        this.tileSize = null;
        if (this._manager.settings.tileSize) {
            this.tileSize = this._manager.settings.tileSize;
        }
    }
    /**
     * @return {?}
     */
    TileComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        if (this.data.color) {
            this._renderer.addClass(this.el.nativeElement, this.data.color);
        }
    };
    TileComponent.decorators = [
        { type: Component, args: [{
                    selector: 'tile',
                    template: "",
                    encapsulation: ViewEncapsulation.None,
                    changeDetection: ChangeDetectionStrategy.OnPush,
                    // tslint:disable-next-line
                    host: {
                        '[style.width]': 'tileSize',
                        '[style.height]': 'tileSize'
                    },
                    styles: ["tile{display:block;background:rgba(176,230,225,.35);width:25px;height:25px;float:left;border:1px solid #4e4645;margin:1px}tile.color-box{background:#fca}tile.color-dot{background:#ff77a8}tile.color-line{background:#83769c}tile.color-t{background:#29adff}tile.color-l{background:#00e436}tile.color-lr{background:#ffec27}tile.color-z{background:#ffa300}tile.color-s{background:#c2c3c7}"]
                }] }
    ];
    /** @nocollapse */
    TileComponent.ctorParameters = function () { return [
        { type: ElementRef },
        { type: Renderer2 },
        { type: GameManagerService }
    ]; };
    TileComponent.propDecorators = {
        data: [{ type: Input }]
    };
    return TileComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var BoardComponent = /** @class */ (function () {
    function BoardComponent(_manager) {
        this._manager = _manager;
        this.boardWidth = null;
    }
    /**
     * @return {?}
     */
    BoardComponent.prototype.ngAfterViewInit = /**
     * @return {?}
     */
    function () {
        if (this._manager.settings.tileSize) {
            /** @type {?} */
            var bb = this.tile.el.nativeElement.getBoundingClientRect();
            /** @type {?} */
            var TILE_MARGIN = 1;
            /** @type {?} */
            var oneTileSpace = bb.width + 2 * TILE_MARGIN;
            this.boardWidth = oneTileSpace * this._manager.elementsInRow;
        }
    };
    BoardComponent.decorators = [
        { type: Component, args: [{
                    selector: 'board',
                    template: "<tile *ngFor=\"let tileData of grid\"\n    [data]=\"tileData\">\n</tile>\n",
                    host: {
                        '[style.width]': 'boardWidth + "px"',
                    },
                    styles: [":host{width:290px;display:block}"]
                }] }
    ];
    /** @nocollapse */
    BoardComponent.ctorParameters = function () { return [
        { type: GameManagerService }
    ]; };
    BoardComponent.propDecorators = {
        grid: [{ type: Input }],
        tile: [{ type: ViewChild, args: [TileComponent,] }]
    };
    return BoardComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var TetrisCoreModule = /** @class */ (function () {
    function TetrisCoreModule() {
    }
    /**
     * @return {?}
     */
    TetrisCoreModule.forRoot = /**
     * @return {?}
     */
    function () {
        return {
            ngModule: TetrisCoreModule
        };
    };
    TetrisCoreModule.decorators = [
        { type: NgModule, args: [{
                    imports: [
                        CommonModule
                    ],
                    declarations: [
                        TetrisCoreComponent,
                        BoardComponent,
                        TileComponent
                    ],
                    providers: [
                        GameManagerService
                    ],
                    exports: [TetrisCoreComponent]
                },] }
    ];
    return TetrisCoreModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */

export { TetrisCoreModule, GameState, TetrisCoreComponent, BoardComponent as ɵb, GameManagerService as ɵa, TileComponent as ɵc };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LXRldHJpcy5qcy5tYXAiLCJzb3VyY2VzIjpbIm5nOi8vbmd4LXRldHJpcy9jbGFzc2VzL1BpZWNlLnRzIiwibmc6Ly9uZ3gtdGV0cmlzL2NsYXNzZXMvRG90LnRzIiwibmc6Ly9uZ3gtdGV0cmlzL2NsYXNzZXMvQm94LnRzIiwibmc6Ly9uZ3gtdGV0cmlzL2NsYXNzZXMvTGluZS50cyIsIm5nOi8vbmd4LXRldHJpcy9jbGFzc2VzL1QudHMiLCJuZzovL25neC10ZXRyaXMvY2xhc3Nlcy9aLnRzIiwibmc6Ly9uZ3gtdGV0cmlzL2NsYXNzZXMvUy50cyIsIm5nOi8vbmd4LXRldHJpcy9jbGFzc2VzL0wudHMiLCJuZzovL25neC10ZXRyaXMvY2xhc3Nlcy9Mci50cyIsIm5nOi8vbmd4LXRldHJpcy9jbGFzc2VzL1BpZWNlc0ZhY3RvcnkudHMiLCJuZzovL25neC10ZXRyaXMvc2VydmljZXMvZ2FtZS1tYW5hZ2VyLnNlcnZpY2UudHMiLCJuZzovL25neC10ZXRyaXMvdGV0cmlzLWNvcmUuY29tcG9uZW50LnRzIiwibmc6Ly9uZ3gtdGV0cmlzL3RpbGUvdGlsZS5jb21wb25lbnQudHMiLCJuZzovL25neC10ZXRyaXMvYm9hcmQvYm9hcmQuY29tcG9uZW50LnRzIiwibmc6Ly9uZ3gtdGV0cmlzL3B1YmxpY19hcGkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGVudW0gUGllY2VSb3RhdGlvbiB7XG4gICAgREVHXzAgPSAwLFxuICAgIERFR185MCA9IDEsXG4gICAgREVHXzE4MCA9IDIsXG4gICAgREVHXzI3MCA9IDNcbn1cblxuXG5leHBvcnQgZW51bSBQaWVjZVR5cGVzIHtcbiAgICBEb3QgPSAxLFxuICAgIEJveCA9IDIsXG4gICAgTGluZSA9IDMsXG4gICAgVCA9IDQsXG4gICAgTCA9IDUsXG4gICAgTHIgPSA2LFxuICAgIFogPSA3LFxuICAgIFMgPSA4XG59XG5cbi8vIHBpY2tlZCBmcm9tIGh0dHBzOi8vd3d3LnJvbWFuem9sb3RhcmV2LmNvbS9waWNvLTgtY29sb3ItcGFsZXR0ZS9cbmV4cG9ydCBlbnVtIFBpZWNlQ29sb3JzIHtcbiAgICBCb3ggPSAnY29sb3ItYm94JyxcbiAgICBEb3QgPSAnY29sb3ItZG90JyxcbiAgICBMaW5lID0gJ2NvbG9yLWxpbmUnLFxuICAgIFQgPSAnY29sb3ItdCcsXG4gICAgTCA9ICdjb2xvci1sJyxcbiAgICBMciA9ICdjb2xvci1scicsXG4gICAgWiA9ICdjb2xvci16JyxcbiAgICBTID0gJ2NvbG9yLXMnXG59XG5cbmV4cG9ydCBjbGFzcyBQaWVjZSB7XG4gICAgY29sb3IgPSAncmVkJztcbiAgICB4OiBudW1iZXI7XG4gICAgeTogbnVtYmVyO1xuICAgIHJvdGF0aW9uOiBQaWVjZVJvdGF0aW9uID0gUGllY2VSb3RhdGlvbi5ERUdfMDtcblxuICAgIHByaXZhdGUgX21hcHM6IHt9O1xuICAgIHB1YmxpYyBtYXA6IEFycmF5PEFycmF5PG51bWJlcj4+ID0gW1xuICAgICAgICBbXSwgW11cbiAgICBdO1xuXG4gICAgcHJpdmF0ZSBfZ3JpZFNpemU7XG4gICAgcHJpdmF0ZSBfbGFzdENvbmZpZzogYW55ID0gbnVsbDtcblxuICAgIGNvbnN0cnVjdG9yKHgsIHksIGdyaWRTaXplLCBtYXBzKSB7XG4gICAgICAgIHRoaXMuX2dyaWRTaXplID0gZ3JpZFNpemU7XG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIHRoaXMuX21hcHMgPSBtYXBzO1xuXG4gICAgICAgIHRoaXMubWFwID0gdGhpcy5fbWFwc1t0aGlzLnJvdGF0aW9uXTtcbiAgICB9XG5cbiAgICBnZXQgcG9zaXRpb25zT25HcmlkKCkge1xuICAgICAgICBjb25zdCBhY2MgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgNDsgcm93KyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGNvbCA9IDA7IGNvbCA8IDQ7IGNvbCsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWFwW3Jvd11bY29sXSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb3MgPSAodGhpcy55ICsgcm93KSAqIHRoaXMuX2dyaWRTaXplLndpZHRoICsgdGhpcy54ICsgY29sO1xuICAgICAgICAgICAgICAgICAgICBpZiAocG9zID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWNjLnB1c2gocG9zKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfVxuXG4gICAgcHVibGljIHN0b3JlKCkge1xuICAgICAgICB0aGlzLl9sYXN0Q29uZmlnID0ge1xuICAgICAgICAgICAgeDogdGhpcy54LFxuICAgICAgICAgICAgeTogdGhpcy55LFxuICAgICAgICAgICAgcm90YXRpb246IHRoaXMucm90YXRpb24sXG4gICAgICAgICAgICBtYXA6IHRoaXMubWFwXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHVibGljIGNsZWFyU3RvcmUoKSB7XG4gICAgICAgIHRoaXMuX2xhc3RDb25maWcgPSBudWxsO1xuICAgIH1cblxuICAgIHB1YmxpYyByZXZlcnQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9sYXN0Q29uZmlnKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHggaW4gdGhpcy5fbGFzdENvbmZpZykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9sYXN0Q29uZmlnLmhhc093blByb3BlcnR5KHgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbeF0gPSB0aGlzLl9sYXN0Q29uZmlnW3hdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fbGFzdENvbmZpZyA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgcm90YXRlKCkge1xuICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModGhpcy5fbWFwcyk7XG4gICAgICAgIGxldCBpZHggPSBrZXlzLmluZGV4T2YodGhpcy5yb3RhdGlvbi50b1N0cmluZygpKTtcbiAgICAgICAgaWYgKGlkeCA+PSBrZXlzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIHRoaXMucm90YXRpb24gPSBrZXlzWzBdIGFzIGFueTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucm90YXRpb24gPSBrZXlzWysraWR4XSBhcyBhbnk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm1hcCA9IHRoaXMuX21hcHNbdGhpcy5yb3RhdGlvbl07XG4gICAgfVxuXG4gICAgcHVibGljIG1vdmVEb3duKCkge1xuICAgICAgICB0aGlzLnkrKztcbiAgICB9XG5cbiAgICBwdWJsaWMgbW92ZVJpZ2h0KCkge1xuICAgICAgICB0aGlzLngrKztcbiAgICB9XG5cbiAgICBwdWJsaWMgbW92ZUxlZnQoKSB7XG4gICAgICAgIHRoaXMueC0tO1xuICAgIH1cblxuICAgIGdldCBib3R0b21Sb3coKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnkgKyAzO1xuICAgIH1cblxuICAgIGdldCByaWdodENvbCgpIHtcbiAgICAgICAgbGV0IGNvbCA9IDM7XG4gICAgICAgIHdoaWxlIChjb2wgPj0gMCkge1xuICAgICAgICAgICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDw9IDM7IHJvdysrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWFwW3Jvd11bY29sXSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy54ICsgY29sO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbC0tO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBnZXQgbGVmdENvbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueDtcbiAgICB9XG59XG4iLCJpbXBvcnQge1BpZWNlLCBQaWVjZUNvbG9ycywgUGllY2VSb3RhdGlvbiwgUGllY2VUeXBlc30gZnJvbSAnLi9QaWVjZSc7XG5cbmNvbnN0IE1BUFMgPSBbXTtcbk1BUFNbUGllY2VSb3RhdGlvbi5ERUdfMF0gPSBbXG4gICAgW3VuZGVmaW5lZCwgICAgICAgIHVuZGVmaW5lZCwgICAgdW5kZWZpbmVkLCAgICB1bmRlZmluZWRdLFxuICAgIFt1bmRlZmluZWQsICAgICAgICB1bmRlZmluZWQsICAgIHVuZGVmaW5lZCwgICAgdW5kZWZpbmVkXSxcbiAgICBbdW5kZWZpbmVkLCAgICAgICAgdW5kZWZpbmVkLCAgICB1bmRlZmluZWQsICAgIHVuZGVmaW5lZF0sXG4gICAgW1BpZWNlVHlwZXMuQm94LCAgIHVuZGVmaW5lZCwgICAgdW5kZWZpbmVkLCAgICB1bmRlZmluZWRdLFxuXTtcblxuZXhwb3J0IGNsYXNzIERvdCBleHRlbmRzIFBpZWNlIHtcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCBncmlkU2l6ZSkge1xuICAgICAgICBzdXBlcih4LCB5LCBncmlkU2l6ZSwgTUFQUyk7XG4gICAgICAgIHRoaXMuY29sb3IgPSBQaWVjZUNvbG9yc1snRG90J107XG4gICAgfVxufVxuIiwiaW1wb3J0IHtQaWVjZSwgUGllY2VDb2xvcnMsIFBpZWNlUm90YXRpb24sIFBpZWNlVHlwZXN9IGZyb20gJy4vUGllY2UnO1xuXG5jb25zdCBNQVBTID0gW107XG5NQVBTW1BpZWNlUm90YXRpb24uREVHXzBdID0gW1xuICAgIFt1bmRlZmluZWQsICAgICAgICB1bmRlZmluZWQsICAgICAgICAgdW5kZWZpbmVkLCAgICB1bmRlZmluZWRdLFxuICAgIFt1bmRlZmluZWQsICAgICAgICB1bmRlZmluZWQsICAgICAgICAgdW5kZWZpbmVkLCAgICB1bmRlZmluZWRdLFxuICAgIFtQaWVjZVR5cGVzLkJveCwgICBQaWVjZVR5cGVzLkJveCwgICAgdW5kZWZpbmVkLCAgICB1bmRlZmluZWRdLFxuICAgIFtQaWVjZVR5cGVzLkJveCwgICBQaWVjZVR5cGVzLkJveCwgICAgdW5kZWZpbmVkLCAgICB1bmRlZmluZWRdLFxuXTtcblxuXG5leHBvcnQgY2xhc3MgQm94IGV4dGVuZHMgUGllY2Uge1xuICAgIGNvbnN0cnVjdG9yKHgsIHksIGdyaWRTaXplKSB7XG4gICAgICAgIHN1cGVyKHgsIHksIGdyaWRTaXplLCBNQVBTKTtcbiAgICAgICAgdGhpcy5jb2xvciA9IFBpZWNlQ29sb3JzWydCb3gnXTtcbiAgICB9XG59XG4iLCJpbXBvcnQge1BpZWNlLCBQaWVjZUNvbG9ycywgUGllY2VSb3RhdGlvbiwgUGllY2VUeXBlc30gZnJvbSAnLi9QaWVjZSc7XG5cbmNvbnN0IE1BUFMgPSBbXTtcbk1BUFNbUGllY2VSb3RhdGlvbi5ERUdfMF0gPSBbXG4gICAgW3VuZGVmaW5lZCwgICAgICAgICB1bmRlZmluZWQsICAgICAgICAgdW5kZWZpbmVkLCAgICAgICAgdW5kZWZpbmVkXSxcbiAgICBbdW5kZWZpbmVkLCAgICAgICAgIHVuZGVmaW5lZCwgICAgICAgICB1bmRlZmluZWQsICAgICAgICB1bmRlZmluZWRdLFxuICAgIFt1bmRlZmluZWQsICAgICAgICAgdW5kZWZpbmVkLCAgICAgICAgIHVuZGVmaW5lZCwgICAgICAgIHVuZGVmaW5lZF0sXG4gICAgW1BpZWNlVHlwZXMuTGluZSwgICBQaWVjZVR5cGVzLkxpbmUsICAgUGllY2VUeXBlcy5MaW5lLCAgUGllY2VUeXBlcy5MaW5lXSxcbl07XG5cbk1BUFNbUGllY2VSb3RhdGlvbi5ERUdfOTBdID0gW1xuICAgIFtQaWVjZVR5cGVzLkxpbmUsICAgdW5kZWZpbmVkLCAgIHVuZGVmaW5lZCwgIHVuZGVmaW5lZF0sXG4gICAgW1BpZWNlVHlwZXMuTGluZSwgICB1bmRlZmluZWQsICAgdW5kZWZpbmVkLCAgdW5kZWZpbmVkXSxcbiAgICBbUGllY2VUeXBlcy5MaW5lLCAgIHVuZGVmaW5lZCwgICB1bmRlZmluZWQsICB1bmRlZmluZWRdLFxuICAgIFtQaWVjZVR5cGVzLkxpbmUsICAgdW5kZWZpbmVkLCAgIHVuZGVmaW5lZCwgIHVuZGVmaW5lZF0sXG5dO1xuXG5cbmV4cG9ydCBjbGFzcyBMaW5lIGV4dGVuZHMgUGllY2Uge1xuICAgIGNvbnN0cnVjdG9yKHgsIHksIGdyaWRTaXplKSB7XG4gICAgICAgIHN1cGVyKHgsIHksIGdyaWRTaXplLCBNQVBTKTtcbiAgICAgICAgdGhpcy5jb2xvciA9IFBpZWNlQ29sb3JzWydMaW5lJ107XG4gICAgfVxufVxuIiwiaW1wb3J0IHtQaWVjZSwgUGllY2VDb2xvcnMsIFBpZWNlUm90YXRpb24sIFBpZWNlVHlwZXN9IGZyb20gJy4vUGllY2UnO1xuXG5cbmNvbnN0IE1BUFMgPSB7fTtcblxuTUFQU1tQaWVjZVJvdGF0aW9uLkRFR18wXSA9IFtcbiAgICBbdW5kZWZpbmVkLCAgICAgIHVuZGVmaW5lZCwgICAgICB1bmRlZmluZWQsICAgICAgdW5kZWZpbmVkXSxcbiAgICBbdW5kZWZpbmVkLCAgICAgIHVuZGVmaW5lZCwgICAgICB1bmRlZmluZWQsICAgICAgdW5kZWZpbmVkXSxcbiAgICBbdW5kZWZpbmVkLCAgICAgIFBpZWNlVHlwZXMuVCwgICB1bmRlZmluZWQsICAgICAgdW5kZWZpbmVkXSxcbiAgICBbUGllY2VUeXBlcy5ULCAgIFBpZWNlVHlwZXMuVCwgICBQaWVjZVR5cGVzLlQsICAgdW5kZWZpbmVkXSxcbl07XG5cbk1BUFNbUGllY2VSb3RhdGlvbi5ERUdfOTBdID0gW1xuICAgIFt1bmRlZmluZWQsICAgICAgdW5kZWZpbmVkLCAgICAgIHVuZGVmaW5lZCwgICB1bmRlZmluZWRdLFxuICAgIFtQaWVjZVR5cGVzLlQsICAgdW5kZWZpbmVkLCAgICAgIHVuZGVmaW5lZCwgICB1bmRlZmluZWRdLFxuICAgIFtQaWVjZVR5cGVzLlQsICAgUGllY2VUeXBlcy5ULCAgIHVuZGVmaW5lZCwgICB1bmRlZmluZWRdLFxuICAgIFtQaWVjZVR5cGVzLlQsICAgdW5kZWZpbmVkLCAgICAgIHVuZGVmaW5lZCwgICB1bmRlZmluZWRdLFxuXTtcblxuTUFQU1tQaWVjZVJvdGF0aW9uLkRFR18xODBdID0gW1xuICAgIFt1bmRlZmluZWQsICAgICAgdW5kZWZpbmVkLCAgICAgIHVuZGVmaW5lZCwgICAgIHVuZGVmaW5lZF0sXG4gICAgW3VuZGVmaW5lZCwgICAgICB1bmRlZmluZWQsICAgICAgdW5kZWZpbmVkLCAgICAgdW5kZWZpbmVkXSxcbiAgICBbUGllY2VUeXBlcy5ULCAgIFBpZWNlVHlwZXMuVCwgICBQaWVjZVR5cGVzLlQsICB1bmRlZmluZWRdLFxuICAgIFt1bmRlZmluZWQsICAgICAgUGllY2VUeXBlcy5ULCAgIHVuZGVmaW5lZCwgICAgIHVuZGVmaW5lZF0sXG5dO1xuXG5NQVBTW1BpZWNlUm90YXRpb24uREVHXzI3MF0gPSBbXG4gICAgW3VuZGVmaW5lZCwgICAgICB1bmRlZmluZWQsICAgICAgdW5kZWZpbmVkLCAgICAgdW5kZWZpbmVkXSxcbiAgICBbdW5kZWZpbmVkLCAgICAgIFBpZWNlVHlwZXMuVCwgICB1bmRlZmluZWQsICAgICB1bmRlZmluZWRdLFxuICAgIFtQaWVjZVR5cGVzLlQsICAgUGllY2VUeXBlcy5ULCAgIHVuZGVmaW5lZCwgICAgIHVuZGVmaW5lZF0sXG4gICAgW3VuZGVmaW5lZCwgICAgICBQaWVjZVR5cGVzLlQsICAgdW5kZWZpbmVkLCAgICAgdW5kZWZpbmVkXSxcbl07XG5cbmV4cG9ydCBjbGFzcyBUIGV4dGVuZHMgUGllY2Uge1xuICAgIGNvbnN0cnVjdG9yKHgsIHksIGdyaWRTaXplKSB7XG4gICAgICAgIHN1cGVyKHgsIHksIGdyaWRTaXplLCBNQVBTKTtcbiAgICAgICAgdGhpcy5jb2xvciA9IFBpZWNlQ29sb3JzWydUJ107XG4gICAgfVxufVxuIiwiaW1wb3J0IHtQaWVjZSwgUGllY2VDb2xvcnMsIFBpZWNlUm90YXRpb24sIFBpZWNlVHlwZXN9IGZyb20gJy4vUGllY2UnO1xuXG5cbmNvbnN0IE1BUFMgPSB7fTtcblxuTUFQU1tQaWVjZVJvdGF0aW9uLkRFR18wXSA9IFtcbiAgICBbdW5kZWZpbmVkLCAgICAgIHVuZGVmaW5lZCwgICAgICB1bmRlZmluZWQsICAgdW5kZWZpbmVkXSxcbiAgICBbdW5kZWZpbmVkLCAgICAgIFBpZWNlVHlwZXMuWiwgICB1bmRlZmluZWQsICAgdW5kZWZpbmVkXSxcbiAgICBbUGllY2VUeXBlcy5aLCAgIFBpZWNlVHlwZXMuWiwgICB1bmRlZmluZWQsICAgdW5kZWZpbmVkXSxcbiAgICBbUGllY2VUeXBlcy5aLCAgIHVuZGVmaW5lZCwgICAgICB1bmRlZmluZWQsICAgdW5kZWZpbmVkXSxcbl07XG5cbk1BUFNbUGllY2VSb3RhdGlvbi5ERUdfOTBdID0gW1xuICAgIFt1bmRlZmluZWQsICAgICAgdW5kZWZpbmVkLCAgICAgIHVuZGVmaW5lZCwgICAgIHVuZGVmaW5lZF0sXG4gICAgW3VuZGVmaW5lZCwgICAgICB1bmRlZmluZWQsICAgICAgdW5kZWZpbmVkLCAgICAgdW5kZWZpbmVkXSxcbiAgICBbUGllY2VUeXBlcy5aLCAgIFBpZWNlVHlwZXMuWiwgICB1bmRlZmluZWQsICAgICB1bmRlZmluZWRdLFxuICAgIFt1bmRlZmluZWQsICAgICAgUGllY2VUeXBlcy5aLCAgIFBpZWNlVHlwZXMuWiwgIHVuZGVmaW5lZF0sXG5dO1xuXG5leHBvcnQgY2xhc3MgWiBleHRlbmRzIFBpZWNlIHtcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCBncmlkU2l6ZSkge1xuICAgICAgICBzdXBlcih4LCB5LCBncmlkU2l6ZSwgTUFQUyk7XG4gICAgICAgIHRoaXMuY29sb3IgPSBQaWVjZUNvbG9yc1snWiddO1xuICAgIH1cbn1cblxuIiwiaW1wb3J0IHtQaWVjZSwgUGllY2VDb2xvcnMsIFBpZWNlUm90YXRpb24sIFBpZWNlVHlwZXN9IGZyb20gJy4vUGllY2UnO1xuXG5cbmNvbnN0IE1BUFMgPSB7fTtcblxuTUFQU1tQaWVjZVJvdGF0aW9uLkRFR18wXSA9IFtcbiAgICBbdW5kZWZpbmVkLCAgICAgdW5kZWZpbmVkLCAgICAgIHVuZGVmaW5lZCwgICAgICB1bmRlZmluZWRdLFxuICAgIFtQaWVjZVR5cGVzLlMsICB1bmRlZmluZWQsICAgICAgdW5kZWZpbmVkLCAgICAgIHVuZGVmaW5lZF0sXG4gICAgW1BpZWNlVHlwZXMuUywgIFBpZWNlVHlwZXMuUywgICB1bmRlZmluZWQsICAgICAgdW5kZWZpbmVkXSxcbiAgICBbdW5kZWZpbmVkLCAgICAgUGllY2VUeXBlcy5TLCAgIHVuZGVmaW5lZCwgICAgICB1bmRlZmluZWRdLFxuXTtcblxuTUFQU1tQaWVjZVJvdGF0aW9uLkRFR185MF0gPSBbXG4gICAgW3VuZGVmaW5lZCwgICAgIHVuZGVmaW5lZCwgICAgICB1bmRlZmluZWQsICAgICAgdW5kZWZpbmVkXSxcbiAgICBbdW5kZWZpbmVkLCAgICAgdW5kZWZpbmVkLCAgICAgIHVuZGVmaW5lZCwgICAgICB1bmRlZmluZWRdLFxuICAgIFt1bmRlZmluZWQsICAgICBQaWVjZVR5cGVzLlMsICAgUGllY2VUeXBlcy5TLCAgIHVuZGVmaW5lZF0sXG4gICAgW1BpZWNlVHlwZXMuUywgIFBpZWNlVHlwZXMuUywgICB1bmRlZmluZWQsICAgICAgdW5kZWZpbmVkXSxcbl07XG5cbmV4cG9ydCBjbGFzcyBTIGV4dGVuZHMgUGllY2Uge1xuICAgIGNvbnN0cnVjdG9yKHgsIHksIGdyaWRTaXplKSB7XG4gICAgICAgIHN1cGVyKHgsIHksIGdyaWRTaXplLCBNQVBTKTtcbiAgICAgICAgdGhpcy5jb2xvciA9IFBpZWNlQ29sb3JzWydTJ107XG4gICAgfVxufVxuIiwiaW1wb3J0IHtQaWVjZSwgUGllY2VDb2xvcnMsIFBpZWNlUm90YXRpb24sIFBpZWNlVHlwZXN9IGZyb20gJy4vUGllY2UnO1xuXG5cbmNvbnN0IE1BUFMgPSB7fTtcblxuTUFQU1tQaWVjZVJvdGF0aW9uLkRFR18wXSA9IFtcbiAgICBbdW5kZWZpbmVkLCAgICAgIHVuZGVmaW5lZCwgICAgICB1bmRlZmluZWQsICAgdW5kZWZpbmVkXSxcbiAgICBbUGllY2VUeXBlcy5MLCAgIHVuZGVmaW5lZCwgICAgICB1bmRlZmluZWQsICAgdW5kZWZpbmVkXSxcbiAgICBbUGllY2VUeXBlcy5MLCAgIHVuZGVmaW5lZCwgICAgICB1bmRlZmluZWQsICAgdW5kZWZpbmVkXSxcbiAgICBbUGllY2VUeXBlcy5MLCAgIFBpZWNlVHlwZXMuTCwgICB1bmRlZmluZWQsICAgdW5kZWZpbmVkXSxcbl07XG5cbk1BUFNbUGllY2VSb3RhdGlvbi5ERUdfOTBdID0gW1xuICAgIFt1bmRlZmluZWQsICAgICAgdW5kZWZpbmVkLCAgICAgIHVuZGVmaW5lZCwgICAgIHVuZGVmaW5lZF0sXG4gICAgW3VuZGVmaW5lZCwgICAgICB1bmRlZmluZWQsICAgICAgdW5kZWZpbmVkLCAgICAgdW5kZWZpbmVkXSxcbiAgICBbUGllY2VUeXBlcy5MLCAgIFBpZWNlVHlwZXMuTCwgICBQaWVjZVR5cGVzLkwsICB1bmRlZmluZWRdLFxuICAgIFtQaWVjZVR5cGVzLkwsICAgdW5kZWZpbmVkLCAgICAgIHVuZGVmaW5lZCwgICAgIHVuZGVmaW5lZF0sXG5dO1xuXG5NQVBTW1BpZWNlUm90YXRpb24uREVHXzE4MF0gPSBbXG4gICAgW3VuZGVmaW5lZCwgICAgICB1bmRlZmluZWQsICAgICAgdW5kZWZpbmVkLCAgICAgdW5kZWZpbmVkXSxcbiAgICBbUGllY2VUeXBlcy5MLCAgIFBpZWNlVHlwZXMuTCwgICB1bmRlZmluZWQsICAgICB1bmRlZmluZWRdLFxuICAgIFt1bmRlZmluZWQsICAgICAgUGllY2VUeXBlcy5MLCAgIHVuZGVmaW5lZCwgICAgIHVuZGVmaW5lZF0sXG4gICAgW3VuZGVmaW5lZCwgICAgICBQaWVjZVR5cGVzLkwsICAgdW5kZWZpbmVkLCAgICAgdW5kZWZpbmVkXSxcbl07XG5cbk1BUFNbUGllY2VSb3RhdGlvbi5ERUdfMjcwXSA9IFtcbiAgICBbdW5kZWZpbmVkLCAgICAgIHVuZGVmaW5lZCwgICAgICB1bmRlZmluZWQsICAgICB1bmRlZmluZWRdLFxuICAgIFt1bmRlZmluZWQsICAgICAgdW5kZWZpbmVkLCAgICAgIHVuZGVmaW5lZCwgICAgIHVuZGVmaW5lZF0sXG4gICAgW3VuZGVmaW5lZCwgICAgICB1bmRlZmluZWQsICAgICAgUGllY2VUeXBlcy5MLCAgdW5kZWZpbmVkXSxcbiAgICBbUGllY2VUeXBlcy5MLCAgIFBpZWNlVHlwZXMuTCwgICBQaWVjZVR5cGVzLkwsICB1bmRlZmluZWRdLFxuXTtcblxuZXhwb3J0IGNsYXNzIEwgZXh0ZW5kcyBQaWVjZSB7XG4gICAgY29uc3RydWN0b3IoeCwgeSwgZ3JpZFNpemUpIHtcbiAgICAgICAgc3VwZXIoeCwgeSwgZ3JpZFNpemUsIE1BUFMpO1xuICAgICAgICB0aGlzLmNvbG9yID0gUGllY2VDb2xvcnNbJ0wnXTtcbiAgICB9XG59XG4iLCJpbXBvcnQge1BpZWNlLCBQaWVjZUNvbG9ycywgUGllY2VSb3RhdGlvbiwgUGllY2VUeXBlc30gZnJvbSAnLi9QaWVjZSc7XG5cblxuY29uc3QgTUFQUyA9IHt9O1xuXG5NQVBTW1BpZWNlUm90YXRpb24uREVHXzBdID0gW1xuICAgIFt1bmRlZmluZWQsICAgICAgdW5kZWZpbmVkLCAgICAgIHVuZGVmaW5lZCwgICAgICB1bmRlZmluZWRdLFxuICAgIFtQaWVjZVR5cGVzLkxyLCAgUGllY2VUeXBlcy5MciwgIHVuZGVmaW5lZCwgICAgICB1bmRlZmluZWRdLFxuICAgIFt1bmRlZmluZWQsICAgICAgUGllY2VUeXBlcy5MciwgIHVuZGVmaW5lZCwgICAgICB1bmRlZmluZWRdLFxuICAgIFt1bmRlZmluZWQsICAgICAgUGllY2VUeXBlcy5MciwgIHVuZGVmaW5lZCwgICAgICB1bmRlZmluZWRdLFxuXTtcblxuTUFQU1tQaWVjZVJvdGF0aW9uLkRFR185MF0gPSBbXG4gICAgW3VuZGVmaW5lZCwgICAgICAgdW5kZWZpbmVkLCAgICAgIHVuZGVmaW5lZCwgICAgICAgdW5kZWZpbmVkXSxcbiAgICBbdW5kZWZpbmVkLCAgICAgICB1bmRlZmluZWQsICAgICAgdW5kZWZpbmVkLCAgICAgICB1bmRlZmluZWRdLFxuICAgIFt1bmRlZmluZWQsICAgICAgIHVuZGVmaW5lZCwgICAgICBQaWVjZVR5cGVzLkxyLCAgIHVuZGVmaW5lZF0sXG4gICAgW1BpZWNlVHlwZXMuTHIsICAgUGllY2VUeXBlcy5MciwgIFBpZWNlVHlwZXMuTHIsICAgdW5kZWZpbmVkXSxcbl07XG5cbk1BUFNbUGllY2VSb3RhdGlvbi5ERUdfMTgwXSA9IFtcbiAgICBbdW5kZWZpbmVkLCAgICAgIHVuZGVmaW5lZCwgICAgICB1bmRlZmluZWQsICAgICB1bmRlZmluZWRdLFxuICAgIFtQaWVjZVR5cGVzLkxyLCAgdW5kZWZpbmVkLCAgICAgIHVuZGVmaW5lZCwgICAgIHVuZGVmaW5lZF0sXG4gICAgW1BpZWNlVHlwZXMuTHIsICB1bmRlZmluZWQsICAgICAgdW5kZWZpbmVkLCAgICAgdW5kZWZpbmVkXSxcbiAgICBbUGllY2VUeXBlcy5MciwgIFBpZWNlVHlwZXMuTHIsICB1bmRlZmluZWQsICAgICB1bmRlZmluZWRdLFxuXTtcblxuTUFQU1tQaWVjZVJvdGF0aW9uLkRFR18yNzBdID0gW1xuICAgIFt1bmRlZmluZWQsICAgICAgdW5kZWZpbmVkLCAgICAgIHVuZGVmaW5lZCwgICAgIHVuZGVmaW5lZF0sXG4gICAgW3VuZGVmaW5lZCwgICAgICB1bmRlZmluZWQsICAgICAgdW5kZWZpbmVkLCAgICAgdW5kZWZpbmVkXSxcbiAgICBbUGllY2VUeXBlcy5MciwgIFBpZWNlVHlwZXMuTHIsICBQaWVjZVR5cGVzLkxyLCB1bmRlZmluZWRdLFxuICAgIFtQaWVjZVR5cGVzLkxyLCAgdW5kZWZpbmVkICwgICAgIHVuZGVmaW5lZCwgICAgIHVuZGVmaW5lZF0sXG5dO1xuXG5leHBvcnQgY2xhc3MgTHIgZXh0ZW5kcyBQaWVjZSB7XG4gICAgY29uc3RydWN0b3IoeCwgeSwgZ3JpZFNpemUpIHtcbiAgICAgICAgc3VwZXIoeCwgeSwgZ3JpZFNpemUsIE1BUFMpO1xuICAgICAgICB0aGlzLmNvbG9yID0gUGllY2VDb2xvcnNbJ0xyJ107XG4gICAgfVxufVxuIiwiaW1wb3J0IHtEb3R9IGZyb20gJy4vRG90JztcbmltcG9ydCB7Qm94fSBmcm9tICcuL0JveCc7XG5pbXBvcnQge0xpbmV9IGZyb20gJy4vTGluZSc7XG5pbXBvcnQge1R9IGZyb20gJy4vVCc7XG5pbXBvcnQge1p9IGZyb20gJy4vWic7XG5pbXBvcnQge1N9IGZyb20gJy4vUyc7XG5pbXBvcnQge0x9IGZyb20gJy4vTCc7XG5pbXBvcnQge0xyfSBmcm9tICcuL0xyJztcblxuZXhwb3J0IGNsYXNzIFBpZWNlc0ZhY3Rvcnkge1xuICAgIHByaXZhdGUgX2F2YWlsYWJsZSA9IFtdO1xuICAgIHByaXZhdGUgX2dyaWRTaXplO1xuXG4gICAgY29uc3RydWN0b3IoZ3JpZFNpemUpIHtcbiAgICAgICAgdGhpcy5fZ3JpZFNpemUgPSBncmlkU2l6ZTtcblxuICAgICAgICB0aGlzLl9hdmFpbGFibGUucHVzaChEb3QpO1xuICAgICAgICB0aGlzLl9hdmFpbGFibGUucHVzaChCb3gpO1xuICAgICAgICB0aGlzLl9hdmFpbGFibGUucHVzaChMaW5lKTtcbiAgICAgICAgdGhpcy5fYXZhaWxhYmxlLnB1c2goVCk7XG4gICAgICAgIHRoaXMuX2F2YWlsYWJsZS5wdXNoKFopO1xuICAgICAgICB0aGlzLl9hdmFpbGFibGUucHVzaChTKTtcbiAgICAgICAgdGhpcy5fYXZhaWxhYmxlLnB1c2goTCk7XG4gICAgICAgIHRoaXMuX2F2YWlsYWJsZS5wdXNoKExyKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0UmFuZG9tUGllY2VQaWVjZSh4LCB5KSB7XG4gICAgICAgIGNvbnN0IGlkeCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICh0aGlzLl9hdmFpbGFibGUubGVuZ3RoKSk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzLl9hdmFpbGFibGVbaWR4XSh4LCB5LCB0aGlzLl9ncmlkU2l6ZSk7XG4gICAgICAgIC8vIHJldHVybiBuZXcgdGhpcy5fYXZhaWxhYmxlWzJdKHgsIHksIHRoaXMuX2dyaWRTaXplKTtcbiAgICB9XG59XG4iLCJpbXBvcnQge0luamVjdGFibGV9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtQaWVjZX0gZnJvbSAnLi4vY2xhc3Nlcy9QaWVjZSc7XG5pbXBvcnQge1BpZWNlc0ZhY3Rvcnl9IGZyb20gJy4uL2NsYXNzZXMvUGllY2VzRmFjdG9yeSc7XG5pbXBvcnQge09ic2VydmFibGV9IGZyb20gJ3J4anMvaW50ZXJuYWwvT2JzZXJ2YWJsZSc7XG5pbXBvcnQge1N1YmplY3R9IGZyb20gJ3J4anMvaW50ZXJuYWwvU3ViamVjdCc7XG5cbmNvbnN0IFNQQVdOX1BPU0lUSU9OX1ggPSA0O1xuY29uc3QgU1BBV05fUE9TSVRJT05fWSA9IC00O1xuXG5leHBvcnQgY2xhc3MgVGlsZSB7XG4gICAgc29saWQgPSBmYWxzZTtcbiAgICBjb2xvciA9IG51bGw7XG59XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBHYW1lTWFuYWdlclNlcnZpY2Uge1xuICAgIHB1YmxpYyBzZXR0aW5ncyA9IHtcbiAgICAgICAgdGlsZVNpemU6IG51bGxcbiAgICB9O1xuXG4gICAgcHVibGljIGdldCBlbGVtZW50c0luUm93KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ3JpZFNpemUud2lkdGg7XG4gICAgfVxuXG4gICAgLy8gc2VyaWFsaXplZCBncmlkIDopXG4gICAgcHVibGljIGdyaWQ6IEFycmF5PFRpbGU+O1xuXG4gICAgcHVibGljIGxpbmVDbGVhcmVkJDogT2JzZXJ2YWJsZTxhbnk+O1xuICAgIHB1YmxpYyBnYW1lT3ZlciQ6IE9ic2VydmFibGU8YW55PjtcblxuICAgIHByaXZhdGUgX2dyaWRTaXplOiB7XG4gICAgICAgIHdpZHRoOiBudW1iZXIsXG4gICAgICAgIGhlaWdodDogbnVtYmVyXG4gICAgfSA9IHsgd2lkdGg6IDAsIGhlaWdodDogMCB9O1xuXG4gICAgcHJpdmF0ZSBfcGllY2U6IFBpZWNlO1xuICAgIHByaXZhdGUgX3BpZWNlc0ZhY3Rvcnk6IFBpZWNlc0ZhY3Rvcnk7XG5cbiAgICBwcml2YXRlIF9sb2NrZWQgPSB0cnVlO1xuICAgIHByaXZhdGUgX2dhbWVTcGVlZDogbnVtYmVyO1xuICAgIHByaXZhdGUgX2dhbWVJbnRlcnZhbDtcblxuICAgIHByaXZhdGUgX2xpbmVDbGVhcmVkID0gbmV3IFN1YmplY3Q8YW55PigpO1xuICAgIHByaXZhdGUgX2dhbWVPdmVyID0gbmV3IFN1YmplY3Q8YW55PigpO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubGluZUNsZWFyZWQkID0gdGhpcy5fbGluZUNsZWFyZWQuYXNPYnNlcnZhYmxlKCk7XG4gICAgICAgIHRoaXMuZ2FtZU92ZXIkID0gdGhpcy5fZ2FtZU92ZXIuYXNPYnNlcnZhYmxlKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGluaXRpYWxpemUod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIGdhbWVTcGVlZCwgdGlsZVNpemU/OiBhbnkpIHtcbiAgICAgICAgdGhpcy5fZ3JpZFNpemUud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5fZ3JpZFNpemUuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLl9nYW1lU3BlZWQgPSBnYW1lU3BlZWQ7XG4gICAgICAgIHRoaXMuX3BpZWNlc0ZhY3RvcnkgPSBuZXcgUGllY2VzRmFjdG9yeSh0aGlzLl9ncmlkU2l6ZSk7XG5cbiAgICAgICAgaWYgKHRpbGVTaXplKSB7XG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLnRpbGVTaXplID0gdGlsZVNpemU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9pbml0aWFsaXplRW1wdHlCb2FyZCgpO1xuXG4gICAgICAgIHRoaXMuX3NwYXduTmV3UGllY2UoKTtcbiAgICAgICAgdGhpcy5fZHJhd1BpZWNlKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXJ0KCkge1xuICAgICAgICBjbGVhckludGVydmFsKHRoaXMuX2dhbWVJbnRlcnZhbCk7XG4gICAgICAgIHRoaXMuX2dhbWVJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgICAgICB9LCB0aGlzLl9nYW1lU3BlZWQpO1xuICAgICAgICB0aGlzLl9sb2NrZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RvcCgpIHtcbiAgICAgICAgdGhpcy5fbG9ja2VkID0gdHJ1ZTtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLl9nYW1lSW50ZXJ2YWwpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZXNldCgpIHtcbiAgICAgICAgY29uc3QgZW1wdHlUaWxlID0gbmV3IFRpbGUoKTtcbiAgICAgICAgZm9yIChsZXQgcG9zID0gMDsgcG9zIDwgdGhpcy5ncmlkLmxlbmd0aDsgcG9zKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmdyaWRbcG9zXS5jb2xvciB8fCB0aGlzLmdyaWRbcG9zXS5zb2xpZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX19jaGFuZ2VDZWxsKHBvcywgZW1wdHlUaWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3NwYXduTmV3UGllY2UoKTtcbiAgICAgICAgdGhpcy5fZHJhd1BpZWNlKCk7XG4gICAgfVxuXG4gICAgcHVibGljIG1vdmVMZWZ0KCkge1xuICAgICAgICBpZiAodGhpcy5fbG9ja2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY2xlYXJQaWVjZSgpO1xuICAgICAgICB0aGlzLl9waWVjZS5zdG9yZSgpO1xuXG4gICAgICAgIHRoaXMuX3BpZWNlLm1vdmVMZWZ0KCk7XG4gICAgICAgIGlmICh0aGlzLl9jb2xsaWRlc0xlZnQoKSkge1xuICAgICAgICAgICAgdGhpcy5fcGllY2UucmV2ZXJ0KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9kcmF3UGllY2UoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbW92ZVJpZ2h0KCkge1xuICAgICAgICBpZiAodGhpcy5fbG9ja2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY2xlYXJQaWVjZSgpO1xuICAgICAgICB0aGlzLl9waWVjZS5zdG9yZSgpO1xuXG4gICAgICAgIHRoaXMuX3BpZWNlLm1vdmVSaWdodCgpO1xuICAgICAgICBpZiAodGhpcy5fY29sbGlkZXNSaWdodCgpKSB7XG4gICAgICAgICAgICB0aGlzLl9waWVjZS5yZXZlcnQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2RyYXdQaWVjZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyByb3RhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9sb2NrZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2NsZWFyUGllY2UoKTtcbiAgICAgICAgdGhpcy5fcGllY2Uuc3RvcmUoKTtcblxuICAgICAgICB0aGlzLl9waWVjZS5yb3RhdGUoKTtcbiAgICAgICAgd2hpbGUgKHRoaXMuX2NvbGxpZGVzUmlnaHQoKSkge1xuICAgICAgICAgICAgdGhpcy5fcGllY2UubW92ZUxlZnQoKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX2NvbGxpZGVzTGVmdCgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGllY2UucmV2ZXJ0KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9kcmF3UGllY2UoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbW92ZURvd24oKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2NsZWFyRnVsbExpbmVzKCkge1xuICAgICAgICBmb3IgKGxldCByb3cgPSB0aGlzLl9ncmlkU2l6ZS5oZWlnaHQgLSAxOyByb3cgPj0gMDsgcm93LS0pIHtcbiAgICAgICAgICAgIGxldCBpc0Z1bGwgPSB0cnVlO1xuICAgICAgICAgICAgZm9yIChsZXQgY29sID0gMDsgY29sIDwgdGhpcy5fZ3JpZFNpemUud2lkdGg7IGNvbCsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcG9zID0gcm93ICogdGhpcy5fZ3JpZFNpemUud2lkdGggKyBjb2w7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ3JpZFtwb3NdLnNvbGlkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBpc0Z1bGwgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaXNGdWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZW1wdHlSb3cgPSBBcnJheS5hcHBseShudWxsLCBBcnJheSh0aGlzLl9ncmlkU2l6ZS53aWR0aCkpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKGlkeCkgPT4gbmV3IFRpbGUoKSk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCB0b3BQb3J0aW9uID0gdGhpcy5ncmlkLnNsaWNlKDAsIHJvdyAqIHRoaXMuX2dyaWRTaXplLndpZHRoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZ3JpZC5zcGxpY2UoMCwgKytyb3cgKiB0aGlzLl9ncmlkU2l6ZS53aWR0aCwgLi4uZW1wdHlSb3cuY29uY2F0KHRvcFBvcnRpb24pKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9saW5lQ2xlYXJlZC5uZXh0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF91cGRhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9sb2NrZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9sb2NrZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9waWVjZS5yZXZlcnQoKTtcblxuICAgICAgICB0aGlzLl9jbGVhclBpZWNlKCk7XG4gICAgICAgIHRoaXMuX3BpZWNlLnN0b3JlKCk7XG5cbiAgICAgICAgdGhpcy5fcGllY2UubW92ZURvd24oKTtcbiAgICAgICAgaWYgKHRoaXMuX2NvbGxpZGVzQm90dG9tKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX3BpZWNlLnJldmVydCgpO1xuICAgICAgICAgICAgdGhpcy5fbWFya1NvbGlkKCk7XG4gICAgICAgICAgICB0aGlzLl9kcmF3UGllY2UoKTtcblxuICAgICAgICAgICAgdGhpcy5fY2xlYXJGdWxsTGluZXMoKTtcblxuICAgICAgICAgICAgdGhpcy5fc3Bhd25OZXdQaWVjZSgpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2lzR2FtZU92ZXIoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX29uR2FtZU92ZXIoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9kcmF3UGllY2UoKTtcbiAgICAgICAgdGhpcy5fbG9ja2VkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfaXNHYW1lT3ZlcigpIHtcbiAgICAgICAgdGhpcy5fcGllY2Uuc3RvcmUoKTtcbiAgICAgICAgdGhpcy5fcGllY2UubW92ZURvd24oKTtcbiAgICAgICAgaWYgKHRoaXMuX2NvbGxpZGVzQm90dG9tKCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcGllY2UucmV2ZXJ0KCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9vbkdhbWVPdmVyKCkge1xuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgdGhpcy5fZ2FtZU92ZXIubmV4dCgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX3NwYXduTmV3UGllY2UoKSB7XG4gICAgICAgIHRoaXMuX3BpZWNlID0gdGhpcy5fcGllY2VzRmFjdG9yeS5nZXRSYW5kb21QaWVjZVBpZWNlKFNQQVdOX1BPU0lUSU9OX1gsIFNQQVdOX1BPU0lUSU9OX1kpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2luaXRpYWxpemVFbXB0eUJvYXJkKCkge1xuICAgICAgICBjb25zdCBjZWxsc0NvdW50ID0gdGhpcy5fZ3JpZFNpemUud2lkdGggKiB0aGlzLl9ncmlkU2l6ZS5oZWlnaHQ7XG4gICAgICAgIHRoaXMuZ3JpZCA9IEFycmF5LmFwcGx5KG51bGwsIEFycmF5KGNlbGxzQ291bnQpKVxuICAgICAgICAgICAgLm1hcCgoaWR4KSA9PiBuZXcgVGlsZSgpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9jbGVhclBpZWNlKCkge1xuICAgICAgICB0aGlzLl9waWVjZS5wb3NpdGlvbnNPbkdyaWRcbiAgICAgICAgICAgIC5mb3JFYWNoKChwb3MpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9fY2hhbmdlQ2VsbChwb3MsIHtjb2xvcjogdW5kZWZpbmVkfSk7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9kcmF3UGllY2UoKSB7XG4gICAgICAgIHRoaXMuX3BpZWNlLmNsZWFyU3RvcmUoKTtcbiAgICAgICAgdGhpcy5fcGllY2UucG9zaXRpb25zT25HcmlkXG4gICAgICAgICAgICAuZm9yRWFjaCgocG9zKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fX2NoYW5nZUNlbGwocG9zLCB7Y29sb3I6IHRoaXMuX3BpZWNlLmNvbG9yfSk7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9tYXJrU29saWQoKSB7XG4gICAgICAgIHRoaXMuX3BpZWNlLnBvc2l0aW9uc09uR3JpZC5mb3JFYWNoKChwb3MpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX19jaGFuZ2VDZWxsKHBvcywge3NvbGlkOiB0cnVlfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgX19jaGFuZ2VDZWxsKHBvcywgZGF0YSA9IHt9KSB7XG4gICAgICAgIHRoaXMuZ3JpZFtwb3NdID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5ncmlkW3Bvc10sIGRhdGEpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2NvbGxpZGVzQm90dG9tKCkge1xuICAgICAgICBpZiAodGhpcy5fcGllY2UuYm90dG9tUm93ID49IHRoaXMuX2dyaWRTaXplLmhlaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX19jb2xsaWRlcygpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2NvbGxpZGVzTGVmdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3BpZWNlLmxlZnRDb2wgPCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9fY29sbGlkZXMoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9jb2xsaWRlc1JpZ2h0KCkge1xuICAgICAgICBpZiAodGhpcy5fcGllY2UucmlnaHRDb2wgPj0gdGhpcy5fZ3JpZFNpemUud2lkdGgpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX19jb2xsaWRlcygpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX19jb2xsaWRlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BpZWNlLnBvc2l0aW9uc09uR3JpZFxuICAgICAgICAgICAgLnNvbWUoKHBvcykgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChwb3MgPiAwICYmIHRoaXMuZ3JpZFtwb3NdICYmIHRoaXMuZ3JpZFtwb3NdLnNvbGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImltcG9ydCB7Q2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksIENvbXBvbmVudCwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT25DaGFuZ2VzLCBPbkluaXQsIE91dHB1dH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge0dhbWVNYW5hZ2VyU2VydmljZSwgVGlsZX0gZnJvbSAnLi9zZXJ2aWNlcy9nYW1lLW1hbmFnZXIuc2VydmljZSc7XG5cbmNvbnN0IEdBTUVfU1BFRUQgPSA1MDA7XG5jb25zdCBNT1ZFX0RPV05fU1BFRUQgPSAwLjI7IC8vIGZyYWN0aW9uIG9mIGluaXRpYWwgZ2FtZSBzcGVlZFxuXG5leHBvcnQgZW51bSBHYW1lU3RhdGUge1xuICAgIFBhdXNlZCA9IDAsXG4gICAgU3RhcnRlZCA9IDEsXG4gICAgT3ZlciA9IDJcbn1cblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICd0ZXRyaXMtY29yZScsXG4gICAgdGVtcGxhdGVVcmw6ICcuL3RldHJpcy1jb3JlLmNvbXBvbmVudC5odG1sJyxcbiAgICAvLyBzdHlsZVVybHM6IFsnLi90ZXRyaXMtY29yZS5jb21wb25lbnQuY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgVGV0cmlzQ29yZUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgT25DaGFuZ2VzIHtcbiAgICBASW5wdXQoKSB0aWxlU2l6ZTogYW55O1xuXG4gICAgQElucHV0KCkgaW5pdGlhbFNwZWVkOiBudW1iZXI7XG4gICAgQElucHV0KCkgcm90YXRlID0gZmFsc2U7XG4gICAgQElucHV0KCkgbW92ZUxlZnQgPSBmYWxzZTtcbiAgICBASW5wdXQoKSBtb3ZlUmlnaHQgPSBmYWxzZTtcbiAgICBASW5wdXQoKSBtb3ZlRG93biA9IGZhbHNlO1xuICAgIEBJbnB1dCgpIHN0YXJ0ID0gZmFsc2U7XG4gICAgQElucHV0KCkgc3RvcCA9IGZhbHNlO1xuICAgIEBJbnB1dCgpIHJlc2V0ID0gZmFsc2U7XG5cbiAgICBAT3V0cHV0KCkgbGluZUNsZWFyZWQ6IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgIEBPdXRwdXQoKSBnYW1lT3ZlcjogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgICBwdWJsaWMgZ3JpZDogQXJyYXk8VGlsZT47XG4gICAgcHVibGljIHN0YXRlOiBHYW1lU3RhdGUgPSBHYW1lU3RhdGUuUGF1c2VkO1xuXG4gICAgZ3JpZFdpZHRoID0gMTA7XG4gICAgZ3JpZEhlaWdodCA9IDIwO1xuXG4gICAgcHJpdmF0ZSBfbW92ZURvd25TcGVlZDtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgX21hbmFnZXI6IEdhbWVNYW5hZ2VyU2VydmljZSkge1xuICAgICAgICB0aGlzLl9tYW5hZ2VyLmxpbmVDbGVhcmVkJC5zdWJzY3JpYmUoKGRhdGEpID0+IHRoaXMuX29uTGluZUNsZWFyZWQoZGF0YSkpO1xuICAgICAgICB0aGlzLl9tYW5hZ2VyLmdhbWVPdmVyJC5zdWJzY3JpYmUoKGRhdGEpID0+IHRoaXMuX29uR2FtZU92ZXIoZGF0YSkpO1xuICAgIH1cblxuICAgIG5nT25Jbml0KCkge1xuICAgICAgdGhpcy5pbml0aWFsU3BlZWQgPSB0aGlzLmluaXRpYWxTcGVlZCB8fCBHQU1FX1NQRUVEO1xuICAgICAgdGhpcy5fbW92ZURvd25TcGVlZCA9IHRoaXMuaW5pdGlhbFNwZWVkICogTU9WRV9ET1dOX1NQRUVEO1xuXG4gICAgICB0aGlzLl9tYW5hZ2VyLmluaXRpYWxpemUodGhpcy5ncmlkV2lkdGgsIHRoaXMuZ3JpZEhlaWdodCwgdGhpcy5pbml0aWFsU3BlZWQsIHRoaXMudGlsZVNpemUpO1xuICAgICAgdGhpcy5ncmlkID0gdGhpcy5fbWFuYWdlci5ncmlkO1xuXG4gICAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLm1vdmVEb3duKSB7XG4gICAgICAgICAgdGhpcy5fbWFuYWdlci5tb3ZlRG93bigpO1xuICAgICAgICB9XG5cbiAgICAgIH0sIHRoaXMuX21vdmVEb3duU3BlZWQpO1xuICAgIH1cblxuICAgIG5nT25DaGFuZ2VzKGNoYW5nZXMpIHtcbiAgICAgICAgaWYgKHRoaXMuX2tleVByZXNzZWQoY2hhbmdlcy5tb3ZlTGVmdCkpIHtcbiAgICAgICAgICAgIHRoaXMuX21hbmFnZXIubW92ZUxlZnQoKTtcblxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2tleVByZXNzZWQoY2hhbmdlcy5tb3ZlUmlnaHQpKSB7XG4gICAgICAgICAgICB0aGlzLl9tYW5hZ2VyLm1vdmVSaWdodCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2tleVByZXNzZWQoY2hhbmdlcy5yb3RhdGUpKSB7IHRoaXMuX21hbmFnZXIucm90YXRlKCk7IH1cbiAgICAgICAgaWYgKHRoaXMuX2tleVByZXNzZWQoY2hhbmdlcy5zdGFydCkpICB7IHRoaXMuX21hbmFnZXIuc3RhcnQoKTsgfVxuICAgICAgICBpZiAodGhpcy5fa2V5UHJlc3NlZChjaGFuZ2VzLnN0b3ApKSAgeyB0aGlzLl9tYW5hZ2VyLnN0b3AoKTsgfVxuICAgICAgICBpZiAodGhpcy5fa2V5UHJlc3NlZChjaGFuZ2VzLnJlc2V0KSkgIHsgdGhpcy5fbWFuYWdlci5yZXNldCgpOyB9XG4gICAgfVxuXG4gICAgcHVibGljIGFjdGlvbkxlZnQoKSB7IHRoaXMuX21hbmFnZXIubW92ZUxlZnQoKTsgfVxuICAgIHB1YmxpYyBhY3Rpb25SaWdodCgpIHsgdGhpcy5fbWFuYWdlci5tb3ZlUmlnaHQoKTsgfVxuICAgIHB1YmxpYyBhY3Rpb25Sb3RhdGUoKSB7IHRoaXMuX21hbmFnZXIucm90YXRlKCk7IH1cbiAgICBwdWJsaWMgYWN0aW9uRG93bigpIHsgdGhpcy5fbWFuYWdlci5tb3ZlRG93bigpOyB9XG4gICAgcHVibGljIGFjdGlvblJlc2V0KCkgeyB0aGlzLl9tYW5hZ2VyLnJlc2V0KCk7IH1cblxuICAgIHB1YmxpYyBhY3Rpb25TdGFydCgpIHtcbiAgICAgICAgdGhpcy5fbWFuYWdlci5zdGFydCgpO1xuICAgICAgICB0aGlzLnN0YXRlID0gR2FtZVN0YXRlLlN0YXJ0ZWQ7XG4gICAgfVxuICAgIHB1YmxpYyBhY3Rpb25TdG9wKCkge1xuICAgICAgICB0aGlzLl9tYW5hZ2VyLnN0b3AoKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IEdhbWVTdGF0ZS5QYXVzZWQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfa2V5UHJlc3NlZChrZXkpIHtcbiAgICAgICAgcmV0dXJuIGtleSAmJiBrZXkuY3VycmVudFZhbHVlICYmICFrZXkucHJldmlvdXNWYWx1ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9vbkxpbmVDbGVhcmVkKGRhdGEpIHtcbiAgICAgICAgdGhpcy5saW5lQ2xlYXJlZC5lbWl0KGRhdGEpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX29uR2FtZU92ZXIoZGF0YSkge1xuICAgICAgICB0aGlzLnN0YXRlID0gR2FtZVN0YXRlLk92ZXI7XG4gICAgICAgIHRoaXMuZ2FtZU92ZXIuZW1pdCgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7XG4gICAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXG4gICAgQ29tcG9uZW50LFxuICAgIEVsZW1lbnRSZWYsXG4gICAgSW5wdXQsXG4gICAgT25Jbml0LFxuICAgIFJlbmRlcmVyMixcbiAgICBWaWV3RW5jYXBzdWxhdGlvblxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7R2FtZU1hbmFnZXJTZXJ2aWNlLCBUaWxlfSBmcm9tICcuLi9zZXJ2aWNlcy9nYW1lLW1hbmFnZXIuc2VydmljZSc7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAndGlsZScsXG4gICAgdGVtcGxhdGVVcmw6ICcuL3RpbGUuY29tcG9uZW50Lmh0bWwnLFxuICAgIHN0eWxlVXJsczogWycuL3RpbGUuY29tcG9uZW50LnNjc3MnXSxcbiAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxuICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZVxuICAgIGhvc3Q6IHtcbiAgICAgICAgJ1tzdHlsZS53aWR0aF0nOiAndGlsZVNpemUnLFxuICAgICAgICAnW3N0eWxlLmhlaWdodF0nOiAndGlsZVNpemUnXG4gICAgfVxufSlcbmV4cG9ydCBjbGFzcyBUaWxlQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgICBASW5wdXQoKSBkYXRhOiBUaWxlO1xuICAgIHB1YmxpYyB0aWxlU2l6ZSA9IG51bGw7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIGVsOiBFbGVtZW50UmVmLFxuICAgICAgICBwcml2YXRlIF9yZW5kZXJlcjogUmVuZGVyZXIyLFxuICAgICAgICBwcml2YXRlIF9tYW5hZ2VyOiBHYW1lTWFuYWdlclNlcnZpY2VcbiAgICApIHtcbiAgICAgICAgaWYgKHRoaXMuX21hbmFnZXIuc2V0dGluZ3MudGlsZVNpemUpIHtcbiAgICAgICAgICAgIHRoaXMudGlsZVNpemUgPSB0aGlzLl9tYW5hZ2VyLnNldHRpbmdzLnRpbGVTaXplXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICBpZiAodGhpcy5kYXRhLmNvbG9yKSB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJlci5hZGRDbGFzcyh0aGlzLmVsLm5hdGl2ZUVsZW1lbnQsIHRoaXMuZGF0YS5jb2xvcik7XG4gICAgICAgIH1cblxuICAgIH1cbn1cbiIsImltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIFZpZXdDaGlsZCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtHYW1lTWFuYWdlclNlcnZpY2UsIFRpbGV9IGZyb20gJy4uL3NlcnZpY2VzL2dhbWUtbWFuYWdlci5zZXJ2aWNlJztcbmltcG9ydCB7VGlsZUNvbXBvbmVudH0gZnJvbSBcIi4uL3RpbGUvdGlsZS5jb21wb25lbnRcIjtcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdib2FyZCcsXG4gICAgdGVtcGxhdGVVcmw6ICcuL2JvYXJkLmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnLi9ib2FyZC5jb21wb25lbnQuY3NzJ10sXG4gICAgaG9zdDoge1xuICAgICAgICAnW3N0eWxlLndpZHRoXSc6ICdib2FyZFdpZHRoICsgXCJweFwiJyxcbiAgICB9XG59KVxuZXhwb3J0IGNsYXNzIEJvYXJkQ29tcG9uZW50IHtcbiAgICBASW5wdXQoKSBncmlkOiBBcnJheTxUaWxlPjtcbiAgICBAVmlld0NoaWxkKFRpbGVDb21wb25lbnQpIHRpbGU7XG4gICAgcHVibGljIGJvYXJkV2lkdGggPSBudWxsO1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBfbWFuYWdlcjogR2FtZU1hbmFnZXJTZXJ2aWNlKSB7XG5cbiAgICB9XG5cbiAgICBuZ0FmdGVyVmlld0luaXQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9tYW5hZ2VyLnNldHRpbmdzLnRpbGVTaXplKSB7XG4gICAgICAgICAgICBjb25zdCBiYiA9IHRoaXMudGlsZS5lbC5uYXRpdmVFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgY29uc3QgVElMRV9NQVJHSU4gPSAxOyAvL3B4XG4gICAgICAgICAgICBjb25zdCBvbmVUaWxlU3BhY2UgPSBiYi53aWR0aCArIDIgKiBUSUxFX01BUkdJTjtcbiAgICAgICAgICAgIHRoaXMuYm9hcmRXaWR0aCA9IG9uZVRpbGVTcGFjZSAqIHRoaXMuX21hbmFnZXIuZWxlbWVudHNJblJvdztcblxuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHtNb2R1bGVXaXRoUHJvdmlkZXJzLCBOZ01vZHVsZX0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge0NvbW1vbk1vZHVsZX0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7VGV0cmlzQ29yZUNvbXBvbmVudH0gZnJvbSAnLi90ZXRyaXMtY29yZS5jb21wb25lbnQnO1xuaW1wb3J0IHtCb2FyZENvbXBvbmVudH0gZnJvbSAnLi9ib2FyZC9ib2FyZC5jb21wb25lbnQnO1xuaW1wb3J0IHtHYW1lTWFuYWdlclNlcnZpY2V9IGZyb20gJy4vc2VydmljZXMvZ2FtZS1tYW5hZ2VyLnNlcnZpY2UnO1xuaW1wb3J0IHtUaWxlQ29tcG9uZW50fSBmcm9tICcuL3RpbGUvdGlsZS5jb21wb25lbnQnO1xuXG5leHBvcnQgKiBmcm9tICcuL3RldHJpcy1jb3JlLmNvbXBvbmVudCc7XG5cbkBOZ01vZHVsZSh7XG4gICAgaW1wb3J0czogW1xuICAgICAgICBDb21tb25Nb2R1bGVcbiAgICBdLFxuICAgIGRlY2xhcmF0aW9uczogW1xuICAgICAgICBUZXRyaXNDb3JlQ29tcG9uZW50LFxuICAgICAgICBCb2FyZENvbXBvbmVudCxcbiAgICAgICAgVGlsZUNvbXBvbmVudFxuICAgIF0sXG4gICAgcHJvdmlkZXJzOiBbXG4gICAgICAgIEdhbWVNYW5hZ2VyU2VydmljZVxuICAgIF0sXG4gICAgZXhwb3J0czogW1RldHJpc0NvcmVDb21wb25lbnRdXG59KVxuZXhwb3J0IGNsYXNzIFRldHJpc0NvcmVNb2R1bGUge1xuICAgIHN0YXRpYyBmb3JSb290KCk6IE1vZHVsZVdpdGhQcm92aWRlcnMge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmdNb2R1bGU6IFRldHJpc0NvcmVNb2R1bGVcbiAgICAgICAgfTtcbiAgICB9XG59XG4iXSwibmFtZXMiOlsidHNsaWJfMS5fX2V4dGVuZHMiLCJNQVBTIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztJQUNJLFFBQVM7SUFDVCxTQUFVO0lBQ1YsVUFBVztJQUNYLFVBQVc7OzRCQUhYLEtBQUs7NEJBQ0wsTUFBTTs0QkFDTixPQUFPOzRCQUNQLE9BQU87OztJQUtQLE1BQU87SUFDUCxNQUFPO0lBQ1AsT0FBUTtJQUNSLElBQUs7SUFDTCxJQUFLO0lBQ0wsS0FBTTtJQUNOLElBQUs7SUFDTCxJQUFLOztzQkFQTCxHQUFHO3NCQUNILEdBQUc7c0JBQ0gsSUFBSTtzQkFDSixDQUFDO3NCQUNELENBQUM7c0JBQ0QsRUFBRTtzQkFDRixDQUFDO3NCQUNELENBQUM7OztJQUtELEtBQU0sV0FBVztJQUNqQixLQUFNLFdBQVc7SUFDakIsTUFBTyxZQUFZO0lBQ25CLEdBQUksU0FBUztJQUNiLEdBQUksU0FBUztJQUNiLElBQUssVUFBVTtJQUNmLEdBQUksU0FBUztJQUNiLEdBQUksU0FBUzs7QUFHakIs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